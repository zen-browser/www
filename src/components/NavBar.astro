---
import Title from '../components/Title.astro'
import Description from '../components/Description.astro'
import Button from '../components/Button.astro'
import {
  Astronav,
  MenuItems,
  MenuIcon,
  Dropdown,
  DropdownItems,
  DropdownSubmenu,
} from 'astro-navbar'
import { ArrowRight, ChevronDown, Download, DownloadCloud } from 'lucide-astro'
import Logo from './Logo.astro'
import { ThemeSwitch } from 'free-astro-components'
---

<nav
  id="nav-bar"
  class="relative z-20 flex w-full items-center justify-between lg:px-6 lg:pt-3"
>
  <Astronav>
    <MenuItems
      class="relative mx-auto flex w-full gap-2 bg-paper p-2 lg:w-fit lg:gap-20"
    >
      <a class="mr-3 flex items-center gap-2 text-lg font-bold" href="/">
        <Logo class="text-dark" />
        <span class="hidden lg:block">zen browser</span>
      </a>
      <div class="flex items-center gap-6 text-xs sm:text-sm lg:text-base">
        <Dropdown class="group">
          <button class="flex items-center">
            <span>Getting Started</span>
            <ChevronDown
              class="size-4 transform transition-transform duration-200 group-open:rotate-180 md:ml-2"
            />
          </button>
          <DropdownItems>
            <div
              class="navbar-dropdown left-0 right-1/4 top-16 w-full lg:w-fit"
            >
              <a
                class="dropdown-item bg-dark/5 row-span-2 justify-between"
                href="/mods"
              >
                <div class="flex flex-col gap-1">
                  <span class="dropdown-title">Zen Mods</span>
                  <p class="dropdown-description">
                    Customize your browsing experience with Zen Mods.
                  </p>
                </div>
                <Button isPrimary class="mt-auto">
                  Try Zen Mods
                  <ArrowRight class="size-4" />
                </Button>
              </a>
              <a class="dropdown-item" href="/release-notes">
                <span class="dropdown-title">Release Notes</span>
                <p class="dropdown-description">
                  Stay up to date with the latest features and improvements.
                </p>
              </a>
              <a class="dropdown-item" href="https://discord.gg/zen-browser">
                <span class="dropdown-title">Discord</span>
                <p class="dropdown-description">
                  Join our community on Discord to chat with other Zen users!
                </p>
              </a>
            </div>
          </DropdownItems>
        </Dropdown>
        <Dropdown class="group">
          <button class="flex items-center">
            <span>Useful Links</span>
            <ChevronDown
              class="size-4 transform transition-transform duration-200 group-open:rotate-180 md:ml-2"
            />
          </button>
          <DropdownItems>
            <div
              class="navbar-dropdown left-0 top-16 w-full !grid-cols-1 gap-1 lg:left-1/3 lg:right-1/4 lg:w-fit"
            >
              <a class="dropdown-item" href="/donate">
                <span class="dropdown-title">Donate ‚ù§Ô∏è</span>
                <p class="dropdown-description">
                  Support the development of Zen Browser with a donation.
                </p>
              </a>
              <a class="dropdown-item" href="/about">
                <span class="dropdown-title">About Us üåü</span>
                <p class="dropdown-description">
                  Learn more about the team behind Zen Browser.
                </p>
              </a>
              <a class="dropdown-item" href="https://docs.zen-browser.app">
                <span class="dropdown-title">Documentation</span>
                <p class="dropdown-description">
                  Learn how to use Zen Browser with our documentation.
                </p>
              </a>
              <a
                class="dropdown-item"
                href="https://github.com/zen-browser"
                target="_blank"
              >
                <span class="dropdown-title">GitHub</span>
                <p class="dropdown-description">
                  Contribute to the development of Zen Browser on GitHub.
                </p>
              </a>
            </div>
          </DropdownItems>
        </Dropdown>
        <a class="hidden items-center lg:block" href="/mods">
          <span>Mods</span>
        </a>
      </div>
      <div class="ml-auto flex gap-2">
        <div id="theme-switcher" class="ml-auto md:mr-2">
          <ThemeSwitch label="" class="px-1 py-2" />
        </div>
        <Button href="/download" class="ml-auto" isPrimary>
          <span class="hidden items-center gap-2 md:flex">
            Download
            <ArrowRight class="size-4" />
          </span>
          <span class="md:hidden">
            <Download class="size-4" />
          </span>
        </Button>
      </div>
    </MenuItems>
  </Astronav>
</nav>
<style>
  .navbar-dropdown {
    @apply absolute grid grid-cols-2 gap-2 rounded-lg border-2 border-dark bg-paper p-3 shadow-sm;

    & .dropdown-item {
      @apply flex cursor-pointer select-none flex-col gap-2 rounded-lg p-4 transition-colors duration-200;

      &:hover {
        @apply bg-muted;
      }

      & .dropdown-title {
        @apply font-bold;
      }

      & .dropdown-description {
        @apply text-sm;
      }
    }
  }
</style>
<style is:global>
  #theme-switcher * {
    @apply text-dark;
  }
</style>
